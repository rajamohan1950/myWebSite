@import "tailwindcss";

/* ========== Apple-inspired design system ========== */
:root {
  /* Apple-style palette */
  --apple-bg: #ffffff;
  --apple-bg-secondary: #fbfbfd;
  --apple-bg-tertiary: #f5f5f7;
  --apple-text: #1d1d1f;
  --apple-text-secondary: #6e6e73;
  --apple-link: #06c;
  --apple-link-hover: #0077ed;
  --apple-blue: #0071e3;
  --apple-blue-hover: #0077ed;
  --apple-border: rgba(0, 0, 0, 0.08);
  --apple-nav-bg: rgba(251, 251, 253, 0.8);
  --apple-nav-border: rgba(0, 0, 0, 0.06);

  /* Semantic (keep for compatibility) */
  --foreground: var(--apple-text);
  --muted: var(--apple-text-secondary);
  --border: var(--apple-border);
  --accent: var(--apple-blue);
  --accent-hover: var(--apple-blue-hover);
  --accent-light: rgba(0, 113, 227, 0.08);
  --card-bg: var(--apple-bg);
  --card-border: var(--apple-border);
  --card-shadow: 0 2px 12px rgba(0, 0, 0, 0.04);

  /* Layout: true full width like Apple â€” content uses full viewport width */
  --container: calc(100vw - 2 * var(--space-page-x));
  --container-wide: calc(100vw - 2 * var(--space-page-x));
  --space-page-y: clamp(2rem, 5vw, 5rem);
  --space-page-x: clamp(1rem, 4vw, 2.5rem);
  --apple-nav-height: 44px;
  --font-sans: var(--font-geist-sans), -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", "Segoe UI", system-ui, sans-serif;
  --font-mono: var(--font-geist-mono), ui-monospace, monospace;
  --radius: 12px;
  --radius-lg: 18px;
  --focus-ring: 2px solid var(--apple-blue);
  --focus-offset: 2px;

  /* Red sand background: image (replace with /red-sand-bg.jpg if you add one to public/) */
  --red-sand-bg: linear-gradient(160deg, #c97a5c 0%, #b86548 25%, #a05038 50%, #8f4532 75%, #7a3828 100%);
  --red-sand-bg-image: url("https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=1920&q=80");

  /* Apple typography scale */
  --apple-font-display: 56px;
  --apple-font-headline: 40px;
  --apple-font-title: 28px;
  --apple-font-subhead: 21px;
  --apple-font-body: 17px;
  --apple-font-caption: 12px;
  --apple-letter-tight: -0.025em;
  --apple-letter-body: -0.022em;
}

@media (prefers-color-scheme: dark) {
  :root {
    --apple-bg: #000000;
    --apple-bg-secondary: #1d1d1f;
    --apple-bg-tertiary: #2d2d2f;
    --apple-text: #f5f5f7;
    --apple-text-secondary: #a1a1a6;
    --apple-link: #2997ff;
    --apple-link-hover: #4dabff;
    --apple-blue: #2997ff;
    --apple-blue-hover: #4dabff;
    --apple-border: rgba(255, 255, 255, 0.08);
    --apple-nav-bg: rgba(29, 29, 31, 0.72);
    --apple-nav-border: rgba(255, 255, 255, 0.06);

    --foreground: var(--apple-text);
    --muted: var(--apple-text-secondary);
    --border: var(--apple-border);
    --accent: var(--apple-blue);
    --accent-hover: var(--apple-blue-hover);
    --accent-light: rgba(41, 151, 255, 0.12);
    --card-bg: var(--apple-bg-secondary);
    --card-border: var(--apple-border);
    --card-shadow: 0 2px 24px rgba(0, 0, 0, 0.3);
  }
}

@theme inline {
  --color-background: var(--apple-bg-secondary);
  --color-foreground: var(--foreground);
  --color-muted: var(--muted);
  --color-accent: var(--accent);
  --color-card: var(--card-bg);
  --color-border: var(--border);
  --font-sans: var(--font-sans);
  --font-mono: var(--font-mono);
  --radius-sm: var(--radius);
  --radius-md: var(--radius);
  --radius-lg: var(--radius-lg);
}

/* ========== Base ========== */
html {
  scroll-behavior: smooth;
  width: 100%;
  min-height: 100%;
}

@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }
}

body {
  width: 100%;
  min-height: 100vh;
  min-height: 100dvh;
  background: var(--apple-bg-secondary);
  color: var(--foreground);
  box-sizing: border-box;
  font-family: var(--font-sans);
  font-size: clamp(15px, 2.2vw, var(--apple-font-body));
  line-height: 1.47059;
  font-weight: 400;
  letter-spacing: var(--apple-letter-body);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

:focus { outline: none; }
:focus-visible {
  outline: var(--focus-ring);
  outline-offset: var(--focus-offset);
}

a:focus-visible,
button:focus-visible {
  outline: var(--focus-ring);
  outline-offset: var(--focus-offset);
  border-radius: 4px;
}

/* Apple typography classes */
.apple-display {
  font-size: clamp(40px, 8vw, var(--apple-font-display));
  font-weight: 600;
  letter-spacing: var(--apple-letter-tight);
  line-height: 1.05;
}
.apple-headline {
  font-size: clamp(28px, 4vw, var(--apple-font-headline));
  font-weight: 600;
  letter-spacing: var(--apple-letter-tight);
  line-height: 1.1;
}
.apple-title {
  font-size: var(--apple-font-title);
  font-weight: 600;
  letter-spacing: var(--apple-letter-tight);
  line-height: 1.15;
}
.apple-subhead {
  font-size: var(--apple-font-subhead);
  font-weight: 400;
  letter-spacing: var(--apple-letter-body);
  line-height: 1.2;
}
.apple-body {
  font-size: var(--apple-font-body);
  font-weight: 400;
  letter-spacing: var(--apple-letter-body);
  line-height: 1.47;
}
.apple-caption {
  font-size: var(--apple-font-caption);
  font-weight: 400;
  letter-spacing: 0.01em;
  line-height: 1.33;
}

h1, h2, h3 {
  letter-spacing: var(--apple-letter-tight);
  font-weight: 600;
  line-height: 1.1;
}

/* ========== Apple-style components ========== */
.card {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--card-shadow);
}

.link-apple {
  color: var(--apple-link);
  text-decoration: none;
}
.link-apple:hover {
  text-decoration: underline;
  color: var(--apple-link-hover);
}

@media (prefers-color-scheme: dark) {
  .link-apple { color: var(--apple-link); }
  .link-apple:hover { color: var(--apple-link-hover); }
}

.btn-primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 44px;
  padding: 0 20px;
  background: var(--apple-blue);
  color: #fff;
  font-size: 17px;
  font-weight: 400;
  letter-spacing: -0.022em;
  border-radius: 980px;
  border: none;
  cursor: pointer;
  text-decoration: none;
  transition: background 0.2s, opacity 0.2s;
}
.btn-primary:hover {
  background: var(--apple-blue-hover);
}
.btn-primary:active { opacity: 0.9; }

.btn-secondary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 44px;
  padding: 0 20px;
  background: transparent;
  color: var(--apple-blue);
  font-size: 17px;
  font-weight: 400;
  letter-spacing: -0.022em;
  border-radius: 980px;
  border: none;
  cursor: pointer;
  text-decoration: none;
  transition: opacity 0.2s;
}
.btn-secondary:hover { opacity: 0.8; }

/* ========== Skip link ========== */
.skip-link {
  position: absolute;
  top: -100%;
  left: var(--space-page-x);
  z-index: 100;
  padding: 12px 20px;
  background: var(--apple-blue);
  color: white;
  font-weight: 500;
  border-radius: 8px;
  transition: top 0.2s ease;
}
.skip-link:focus {
  top: 1rem;
  outline: 2px solid white;
  outline-offset: 2px;
}

/* Red sand background on every page (main content area) */
.page-with-red-sand {
  background: var(--red-sand-bg);
  background-image: var(--red-sand-bg-image);
  background-attachment: fixed;
  background-size: cover;
  background-position: center;
}

/* Videos and iframes: always full width on all pages (posts, blog, products, etc.) */
#main iframe,
#main video,
#main .prose iframe,
#main .prose video {
  width: 100% !important;
  max-width: 100%;
  min-width: 0;
}
#main .aspect-video,
#main .prose .aspect-video {
  width: 100%;
  max-width: 100%;
  min-width: 0;
}
